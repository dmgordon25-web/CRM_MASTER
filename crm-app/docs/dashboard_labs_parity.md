# Dashboard ↔ Labs Parity Map

| Widget name | Dashboard implementation file(s) | Labs implementation file(s) | zNext implementation file(s) | Data source + count logic (brief) | Click/drilldown behavior (brief) | Config knobs (settings/localStorage keys) | Parity status | Notes |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| Priority Actions | `js/render.js` (priority list in dashboard render) | `js/labs/crm_widgets.js` (`renderPriorityActionsWidget`) | `js/labs/vnext.js` host only | Open tasks with due dates; overdue or due ≤3 days, max 6 shown, count uses total urgent tasks | Rows carry contact/partner/task ids; delegated clicks open contact/partner/task editors | Dashboard uses task data; Labs uses canonical task model; localStorage not used | ✅ | Empty state message aligned; shared help id `priority-actions` |
| Today's Work | `js/render.js` (today block) | `js/labs/crm_widgets.js` (`renderTodayWidget`) | `js/labs/vnext.js` host only | `getDisplayTasks` scope today + deduped appointments + celebrations (7-day window); count = total items, show up to 5 tasks/3 appts/4 celebrations | Rows open task editor when task id exists; otherwise contact/partner editors | Depends on tasks collection; no explicit settings keys | ⚠️ | Labs now surfaces counts/limit; verify celebration ordering matches dashboard |
| To-Do | `js/dashboard/widgets/todo_widget.js` | `js/labs/crm_widgets.js` (`renderTodoWidget` reuse) | `js/labs/vnext.js` host only | Local checklist stored in `crm.todoWidget.items`; count = list length | Checkbox completes/removes; no cross-record drilldown | LocalStorage key `crm.todoWidget.items` | ✅ | Labs shares widget module with dashboard; help id added |
| Birthdays & Anniversaries | Dashboard celebrations in `js/dashboard/index.js` (celebrations state) | `js/labs/crm_widgets.js` (`renderUpcomingCelebrationsWidget`) | `js/labs/vnext.js` host only | `getUpcomingCelebrations` over contacts, 7-day window, dedup by contact+type+date; max 8 shown | Clicking a row opens the contact editor | Uses contact data; no config | ⚠️ | Labs window now matches dashboard; ensure pipeline-only filtering stays disabled |
| Pipeline Summary (Snapshot) | Pipeline overview in `js/render.js`/`js/dashboard/index.js` (stage counts) | `js/labs/crm_widgets.js` (`renderLabsPipelineSnapshotWidget`) | `js/labs/vnext.js` host only | Stage counts normalized to `CANONICAL_STAGE_ORDER`; totals from snapshot `pipelineCounts` fallback to grouped contacts; count pill uses total active files | Display only; stage rows are non-interactive | Uses pipeline snapshot; layout sizing via CSS classes | ⚠️ | Verify stage order/labels match dashboard; help id `pipeline-snapshot` registered |
| Favorites | Dashboard favorite card in `js/render.js` (`computeFavoriteRecords`) | `js/labs/crm_widgets.js` (`renderFavoritesWidget`) | `js/labs/vnext.js` host only | Favorites pulled from canonical favorite state (contacts + partners), fallback to snapshot focus; show up to 8, count reflects total favorites | Rows open contact or partner editors based on id prefix | Favorite state from settings storage; dashboard updates via `applyFavoriteSnapshot` | ✅ | Limit and empty state aligned; help id `favorites-widget` |
| Milestones Ahead | `js/render.js` (milestones list) | `js/labs/crm_widgets.js` (`renderMilestonesWidget`) | `js/labs/vnext.js` host only | Deduped appointments from focus snapshot; max 6 shown | Row uses contact id to open contact editor | Calendar/task data; no special config | ⚠️ | Parity requires verifying appointment dedupe matches dashboard rules |
| Pipeline Calendar | `js/render.js` (pipeline calendar card) | `js/labs/crm_widgets.js` (`renderPipelineCalendarWidget`) | `js/labs/vnext.js` host only | Timeline entries from tasks/events within next 30 days | Rows carry contact id; open contact editor | Uses tasks; no config | ⚠️ | Included for completeness; not in initial parity batch |
| Referral Leaders | `js/dashboard/widgets/referral_leaders.js` | `js/labs/crm_widgets.js` (`renderReferralLeaderboardWidget`) | `js/labs/vnext.js` host only | Partner referral stats top list | Rows open partner editor | Partner stats cached in snapshot; no config | ✅ | Shares leaderboard attrs across dashboard/labs |

**Stage list parity note:** Labs widgets follow `CANONICAL_STAGE_ORDER` from `js/workflow/state_model.js`. If any Labs widget surfaces pipeline statuses beyond this set, align labels to dashboard `stageLabels` map before deployment.
