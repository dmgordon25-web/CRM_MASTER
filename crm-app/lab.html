<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CRM UX Lab</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Crect width='16' height='16' rx='3' fill='%238b5cf6'/%3E%3Ctext x='8' y='12' text-anchor='middle' font-size='10' fill='white'%3EL%3C/text%3E%3C/svg%3E" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gridstack@9.3.0/dist/gridstack.min.css" integrity="sha256-C7DkXYrhKCIvOLfDked/30j6XS2u8Bg0jXJUuRbFKqY=" crossorigin="anonymous" />
    <link rel="stylesheet" href="./labs/ux/styles.css" />
  </head>
  <body data-lab-root>
    <div id="lab-app" data-theme="ocean" data-density="normal">
      <header class="lab-header">
        <div class="lab-header__left">
          <a class="lab-home-link" href="./">‚Üê Back to CRM</a>
          <div class="lab-title">
            <span class="lab-eyebrow">UX LAB</span>
            <h1>Next-Gen Dashboard Playground</h1>
          </div>
        </div>
        <div class="lab-header__right">
          <label class="lab-control">
            <span>Theme</span>
            <select id="lab-theme-select" aria-label="Select theme">
              <option value="ocean">Ocean Breeze</option>
              <option value="midnight">Midnight Neon</option>
              <option value="sunrise">Sunrise Canyon</option>
            </select>
          </label>
          <label class="lab-control">
            <span>Density</span>
            <select id="lab-density-select" aria-label="Select density">
              <option value="compact">Compact</option>
              <option value="normal" selected>Balanced</option>
              <option value="roomy">Roomy</option>
            </select>
          </label>
        </div>
      </header>
      <main class="lab-main">
        <div class="lab-tabs" role="tablist">
          <button type="button" role="tab" id="tab-dashboard" aria-controls="panel-dashboard" aria-selected="true" class="lab-tab is-active" data-tab-target="dashboard">Dashboard</button>
          <button type="button" role="tab" id="tab-settings" aria-controls="panel-settings" aria-selected="false" class="lab-tab" data-tab-target="settings">Settings</button>
        </div>
        <section id="panel-dashboard" role="tabpanel" aria-labelledby="tab-dashboard" class="lab-panel is-active">
          <div class="lab-panel__meta">
            <div>
              <h2>Composable Cards</h2>
              <p>Drag, resize, and theme your dashboard. Grid layout, quick actions, and timeline widgets are powered by the Lab runtime.</p>
            </div>
            <div class="lab-panel__actions">
              <button type="button" class="lab-button" data-action="reset-layout">Reset layout</button>
              <button type="button" class="lab-button" data-action="save-layout">Save snapshot</button>
            </div>
          </div>
          <div id="lab-grid" class="grid-stack lab-grid" aria-live="polite"></div>
        </section>
        <section id="panel-settings" role="tabpanel" aria-labelledby="tab-settings" class="lab-panel">
          <div class="settings-columns">
            <div class="settings-column">
              <h2>Widget Library</h2>
              <p>Toggle built-in CRM widgets to compose your ideal surface. Saved layouts remember visibility.</p>
              <div id="widget-toggle-list" class="lab-toggle-list"></div>
            </div>
            <div class="settings-column">
              <h2>Layout Presets</h2>
              <form class="lab-form" id="layout-form">
                <label class="lab-control">
                  <span>Grid columns</span>
                  <input type="range" min="6" max="12" value="12" id="grid-columns" />
                </label>
                <label class="lab-control">
                  <span>Cell height</span>
                  <input type="range" min="60" max="160" value="96" id="grid-cell-height" />
                  <small data-role="cell-height-caption">96px</small>
                </label>
                <label class="lab-control">
                  <span>Widget chrome</span>
                  <select id="chrome-style">
                    <option value="elevated" selected>Elevated</option>
                    <option value="outline">Outline</option>
                    <option value="flat">Minimal</option>
                  </select>
                </label>
                <label class="lab-control">
                  <span>Auto-stack on drag</span>
                  <input type="checkbox" id="auto-stack" checked />
                </label>
              </form>
              <div class="lab-note">
                <strong>Lab storage:</strong> Layout changes persist for this session only. Refresh to restore defaults.
              </div>
            </div>
            <div class="settings-column">
              <h2>Widget Spotlight</h2>
              <div id="widget-spotlight" class="lab-spotlight" aria-live="polite"></div>
            </div>
          </div>
        </section>
      </main>
    </div>
    <script type="module" src="./labs/ux/app.js"></script>
  </body>
</html>
